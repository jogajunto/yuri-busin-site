{{ define "main" }}
	{{ $paginator := .Paginate (where .Site.Pages "Type" "post") }}

	{{ if eq .Paginator.PageNumber 1 }}
		<section class="section blog-hero">
			<div class="container">
				<div class="grid reverse-at-desktop" style="--gapY: var(--spacing-lg)">
					<div class="column column-6-at-desktop">
						<div class="stack-lg text-center text-left-at-desktop">
							<h1 class="display display--lg">Blog</h1>
							<p class="text-xl text-light">Lorem ipsum dolor sit amet consectetur adipisicing elit. Totam unde laudantium minima expedita, modi magni?</p>
							<a href="#publicacoes" class="button button--negative">Ver publicações recentes</a>
						</div>
					</div>
					<div class="column column-6-at-desktop">
						<picture>
							<img src="/yuri-busin.webp" alt="Dr. Yuri Busin" loading="lazy" />
						</picture>
					</div>
				</div>
			</div>
		</section>

		<section class="section section-bottom-0">
			<div class="container">
				<div class="stack-lg">
					<div class="text-center">
						<h2 class="heading heading--md">Publicações em destaque</h2>
					</div>
					{{ $featuredPosts := where .Site.RegularPages "Params.featured" "==" true }}
					<div class="feed">
						{{ range first 2 $featuredPosts }}
							{{ .Render "card" }}
						{{ end }}
					</div>
				</div>
			</div>
		</section>
	{{ end }}


	<section class="section" id="publicacoes">
		<div class="container">
			<div class="stack-lg">
				<div class="text-center">
					<div class="stack-xs">
						{{ if ne .Paginator.PageNumber 1 }}
							<p class="overline overline--sm">Página {{ .Paginator.PageNumber }} de {{ .Paginator.TotalPages }}</p>
							<h1 class="display display--sm">Todas publicações</h1>
						{{ else }}
							<h2 class="heading heading--md">Publicações mais recentes</h2>
						{{ end }}
					</div>
				</div>
				{{ $featuredPosts := where .Site.RegularPages "Params.featured" "==" true }}
				<div class="feed">
					{{ range .Paginator.Pages }}
						{{ .Render "card" }}
					{{ end }}
				</div>
				{{ partial "pagination.html" . }}
			</div>
		</div>
	</section>
{{ end }}
