{{ define "main" }}
	{{ $paginator := .Paginate (where .Site.RegularPages "Type" "blog") }}

	{{ if eq .Paginator.PageNumber 1 }}
		<section class="section blog">
			<div class="container">
				<div class="grid grid--reverse align-middle">
					<div class="stack-lg">
						<h1 class="display display--lg">Blog</h1>
						<p class="text-xl text-light">Lorem ipsum dolor sit amet consectetur adipisicing elit. Totam unde laudantium minima expedita, modi magni?</p>
					</div>
					<div class="stack-lg">
						<picture class="image-fill-height image-fill-height--left">
							<img src="/images/blog.webp" alt="Dr. Yuri Busin sentado refletindo" />
						</picture>
					</div>
				</div>
			</div>
		</section>

		<section class="section publicacoes-em-destaque">
			<div class="container">
				<div class="stack-lg">
					<div class="text-center">
						<h2 class="heading heading--md">Publicações em destaque</h2>
					</div>
					{{ $featuredPosts := where .Site.RegularPages "Params.featured" "==" true }}
					<div class="feed">
						{{ range first 2 $featuredPosts }}
							{{ .Render "card" }}
						{{ end }}
					</div>
				</div>
			</div>
		</section>
	{{ end }}


	<section class="section {{ if eq .Paginator.PageNumber 1 }}publicacoes-recentes{{ end }}" id="publicacoes">
		<div class="container">
			<div class="stack-lg">
				<div class="text-center">
					<div class="stack-xs">
						{{ if ne .Paginator.PageNumber 1 }}
							<p class="overline overline--sm">Página {{ .Paginator.PageNumber }} de {{ .Paginator.TotalPages }}</p>
							<h1 class="display display--sm">Todas publicações</h1>
						{{ else }}
							<h2 class="heading heading--md">Publicações mais recentes</h2>
						{{ end }}
					</div>
				</div>
				{{ $featuredPosts := where .Site.RegularPages "Params.featured" "==" true }}
				<div class="feed">
					{{ range .Paginator.Pages }}
						{{ .Render "card" }}
					{{ end }}
				</div>
				{{ partial "pagination.html" . }}
			</div>
		</div>
	</section>
{{ end }}
